<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GitSense | him7n's blog</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23060606'/><text x='50' y='65' text-anchor='middle' font-family='monospace' font-size='50' font-weight='bold' fill='%238cff9a'>H</text></svg>">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#060606;
    --screen:#05110b;
    --text:#8cff9a;
    --accent:#f6c96b;
    --muted:#7a8b78;
    --red:#ff6b6b;
    --cyan:#83f0c7;
    --shadow: 0 10px 40px rgba(0,0,0,0.7);
    font-family: "Fira Code", "JetBrains Mono", monospace;
  }

  html,body{height:100%;margin:0;background:transparent;color:var(--text);overflow-x:hidden}
  
  .screen {
    box-sizing:border-box;
    position:fixed;
    inset:0;
    padding:24px;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    background: transparent;
  }

  .term {
    width: min(1400px, 96vw);
    height: min(920px, 94vh);
    border-radius: 10px;
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.45));
    box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.03);
    overflow: hidden;
    display:flex;
    flex-direction:column;
    outline: 2px solid rgba(0,255,128,0.02);
  }

  .term::before{
    content:"";
    pointer-events:none;
    position:absolute;
    width:100%;
    height:100%;
    left:0;
    top:0;
    box-shadow: 0 0 120px rgba(0,255,160,0.02), inset 0 0 40px rgba(0,100,60,0.03);
    mix-blend-mode:screen;
  }

  .screen .scanlines{
    pointer-events:none;
    position:absolute;
    inset:0;
    background-image: repeating-linear-gradient(transparent 0px, transparent 1px, rgba(0,0,0,0.03) 2px);
    mix-blend-mode:multiply;
    opacity:0.75;
    animation:flicker 3s ease-in-out infinite;
  }

  @keyframes flicker {
    0% { opacity:0.75 }
    50% { opacity:0.88 }
    100% { opacity:0.75 }
  }

  .term-top {
    display:flex;
    gap:12px;
    align-items:center;
    padding:14px 18px;
    border-bottom:1px solid rgba(255,255,255,0.03);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
  }
  .dot { width:12px;height:12px;border-radius:50% }
  .dot.r{ background: var(--red) }
  .dot.y{ background: var(--accent) }
  .dot.g{ background: #47f07a }

  .title {
    color:var(--muted);
    margin-left:8px;
    font-weight:700;
    letter-spacing:0.06em;
    font-size:0.95rem;
  }

  .term-body {
    position:relative;
    padding:32px 48px;
    font-size:16px;
    line-height:1.75;
    font-weight:500;
    color:var(--text);
    overflow:auto;
    flex:1;
    background:
      radial-gradient(800px 200px at 10% 10%, rgba(0,255,150,0.01), transparent 10%);
  }

  /* navigation */
  .blog-nav {
    display: flex;
    gap: 20px;
    margin-bottom: 32px;
    padding-bottom: 16px;
    border-bottom: 1px dashed rgba(140,255,154,0.15);
  }

  .blog-nav a {
    color: var(--accent);
    text-decoration: none;
    font-weight: 700;
    transition: color 0.2s;
  }

  .blog-nav a:hover {
    color: var(--text);
  }

  /* article styles */
  .post-meta {
    margin-bottom: 24px;
  }

  .post-date {
    color: var(--muted);
    font-size: 0.9rem;
  }

  .post-title {
    font-size: 1.6rem;
    color: var(--text);
    margin: 12px 0 16px 0;
    text-shadow: 0 0 30px rgba(140,255,154,0.2);
  }

  .post-tags {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .tag {
    background: rgba(140,255,154,0.08);
    color: var(--text);
    padding: 3px 10px;
    border-radius: 3px;
    font-size: 0.75rem;
    font-weight: 700;
  }

  /* content */
  article {
    max-width: 720px;
  }

  article h2 {
    color: var(--accent);
    font-size: 1.25rem;
    margin: 40px 0 16px 0;
    padding-left: 16px;
    border-left: 3px solid var(--accent);
  }

  article h3 {
    color: var(--cyan);
    font-size: 1.05rem;
    margin: 28px 0 12px 0;
  }

  article p {
    margin: 16px 0;
    color: var(--text);
  }

  article strong {
    color: var(--accent);
    font-weight: 700;
  }

  article em {
    color: var(--muted);
    font-style: italic;
  }

  article a {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1px dashed rgba(246,201,107,0.3);
    transition: all 0.2s;
  }

  article a:hover {
    color: var(--text);
    border-bottom-color: var(--text);
  }

  article ul, article ol {
    margin: 16px 0;
    padding-left: 24px;
  }

  article li {
    margin: 8px 0;
    color: var(--text);
  }

  article li::marker {
    color: var(--accent);
  }

  /* code blocks */
  .code-block-wrapper {
    position: relative;
    margin: 20px 0;
  }

  .code-block {
    background: rgba(0,0,0,0.4);
    border: 1px solid rgba(140,255,154,0.1);
    border-radius: 6px;
    padding: 16px 20px;
    padding-right: 50px;
    overflow-x: auto;
    font-size: 0.9rem;
    line-height: 1.5;
    margin: 0;
  }

  .copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: rgba(140,255,154,0.1);
    border: 1px solid rgba(140,255,154,0.2);
    border-radius: 4px;
    color: var(--muted);
    padding: 4px 8px;
    font-size: 0.75rem;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.2s;
    opacity: 0;
  }

  .code-block-wrapper:hover .copy-btn {
    opacity: 1;
  }

  .copy-btn:hover {
    background: rgba(140,255,154,0.2);
    color: var(--text);
  }

  .copy-btn.copied {
    background: rgba(140,255,154,0.3);
    color: var(--text);
  }

  .code-block .comment {
    color: var(--muted);
  }

  .code-block .keyword {
    color: var(--red);
  }

  .code-block .string {
    color: var(--accent);
  }

  .code-block .command {
    color: var(--cyan);
  }

  code {
    background: rgba(140,255,154,0.08);
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 0.9em;
  }

  /* callout boxes */
  .callout {
    background: rgba(246,201,107,0.05);
    border-left: 3px solid var(--accent);
    padding: 16px 20px;
    margin: 24px 0;
    border-radius: 0 6px 6px 0;
  }

  .callout-title {
    color: var(--accent);
    font-weight: 700;
    margin-bottom: 8px;
  }

  .callout.info {
    background: rgba(131,240,199,0.05);
    border-left-color: var(--cyan);
  }

  .callout.info .callout-title {
    color: var(--cyan);
  }

  /* demo section */
  .demo-box {
    background: rgba(0,0,0,0.5);
    border: 1px solid rgba(140,255,154,0.15);
    border-radius: 8px;
    padding: 20px;
    margin: 24px 0;
  }

  .demo-title {
    color: var(--muted);
    font-size: 0.85rem;
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  /* markdown-style output */
  .md-output {
    background: rgba(0,0,0,0.3);
    border-radius: 6px;
    padding: 20px;
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .md-output .pr-title {
    font-size: 1rem;
    color: var(--text);
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(140,255,154,0.1);
  }

  .md-output .pr-title .emoji {
    margin-right: 8px;
  }

  .md-output .pr-title .ticket {
    color: var(--cyan);
    font-weight: 700;
  }

  .md-output .section-header {
    color: var(--accent);
    font-size: 1.05rem;
    font-weight: 700;
    margin: 20px 0 10px 0;
    padding-bottom: 4px;
    border-bottom: 2px solid var(--accent);
    display: inline-block;
  }

  .md-output .section-header:first-of-type {
    margin-top: 0;
  }

  .md-output .section-content {
    color: var(--text);
    margin: 8px 0 16px 0;
  }

  .md-output .bullet-list {
    margin: 8px 0;
    padding-left: 0;
    list-style: none;
  }

  .md-output .bullet-list li {
    position: relative;
    padding-left: 20px;
    margin: 6px 0;
    color: var(--text);
  }

  .md-output .bullet-list li::before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: var(--accent);
    font-weight: 700;
  }

  .md-output .test-file {
    color: var(--cyan);
    font-weight: 600;
    margin: 12px 0 4px 0;
  }

  .md-output .test-list {
    margin: 4px 0 12px 16px;
    padding-left: 0;
    list-style: none;
  }

  .md-output .test-list li {
    color: var(--muted);
    padding-left: 16px;
    position: relative;
    margin: 3px 0;
  }

  .md-output .test-list li::before {
    content: "-";
    position: absolute;
    left: 0;
    color: var(--muted);
  }

  /* terminal interface demo */
  .terminal-demo {
    background: #0a0a0a;
    border: 1px solid rgba(140,255,154,0.2);
    border-radius: 8px;
    overflow: hidden;
    font-size: 0.85rem;
    line-height: 1.4;
  }

  .terminal-demo .term-header {
    background: rgba(255,255,255,0.03);
    padding: 8px 12px;
    display: flex;
    gap: 6px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
  }

  .terminal-demo .term-header .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }

  .terminal-demo .term-header .dot.r { background: #ff6b6b; }
  .terminal-demo .term-header .dot.y { background: #f6c96b; }
  .terminal-demo .term-header .dot.g { background: #47f07a; }

  .terminal-demo .term-content {
    padding: 16px;
  }

  .terminal-demo .line {
    margin: 2px 0;
    white-space: nowrap;
  }

  .terminal-demo .cmd {
    color: var(--cyan);
  }

  .terminal-demo .info {
    color: var(--muted);
  }

  .terminal-demo .separator {
    color: rgba(140,255,154,0.3);
    letter-spacing: -1px;
  }

  .terminal-demo .menu-title {
    color: var(--text);
  }

  .terminal-demo .option {
    color: var(--text);
    padding-left: 4px;
  }

  .terminal-demo .option.selected {
    background: rgba(140,255,154,0.1);
    color: var(--accent);
    font-weight: 700;
  }

  .terminal-demo .option .arrow {
    color: var(--accent);
    margin-right: 4px;
  }

  .terminal-demo .option .type-feat {
    color: #47f07a;
  }

  .terminal-demo .option .type-fix {
    color: #ff6b6b;
  }

  .terminal-demo .hotkeys {
    color: var(--muted);
    font-size: 0.8rem;
  }

  .terminal-demo .hotkeys .key {
    color: var(--text);
    background: rgba(140,255,154,0.1);
    padding: 1px 5px;
    border-radius: 3px;
    margin: 0 2px;
  }

  .terminal-demo .hotkeys .key.highlight {
    color: var(--accent);
    background: rgba(246,201,107,0.15);
  }

  /* feature grid */
  .feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px;
    margin: 24px 0;
  }

  .feature-card {
    background: rgba(0,0,0,0.3);
    border: 1px solid rgba(140,255,154,0.08);
    border-radius: 6px;
    padding: 16px;
  }

  .feature-card h4 {
    color: var(--accent);
    margin: 0 0 8px 0;
    font-size: 0.95rem;
  }

  .feature-card p {
    color: var(--muted);
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.5;
  }

  /* footer */
  .post-footer {
    margin-top: 48px;
    padding-top: 24px;
    border-top: 1px dashed rgba(140,255,154,0.15);
  }

  .footer-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 16px;
  }

  .back-link {
    color: var(--accent);
    text-decoration: none;
    font-weight: 700;
  }

  .back-link:hover {
    color: var(--text);
  }

  /* like button */
  .like-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(255,107,107,0.1);
    border: 1px solid rgba(255,107,107,0.2);
    border-radius: 6px;
    padding: 8px 16px;
    color: var(--muted);
    font-family: inherit;
    font-size: 0.9rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }

  .like-btn:hover {
    background: rgba(255,107,107,0.2);
    color: var(--red);
    border-color: var(--red);
  }

  .like-btn.liked {
    background: rgba(255,107,107,0.25);
    color: var(--red);
    border-color: var(--red);
  }

  .like-btn .heart {
    font-size: 1.1rem;
    transition: transform 0.2s;
  }

  .like-btn:hover .heart,
  .like-btn.liked .heart {
    transform: scale(1.2);
  }

  .like-btn .count {
    min-width: 20px;
  }

  .prompt-line {
    display: flex;
    gap: 8px;
    align-items: center;
    margin-top: 24px;
  }

  .prompt { color:var(--accent); font-weight:900; }
  .cwd { color: var(--cyan); font-weight:800 }
  .dollar { color:var(--text) }
  .blink { animation: blink 1s step-end infinite; }

  @keyframes blink {
    50% { opacity: 0; }
  }

  @media (max-width:820px){
    .term{ border-radius:0; width:100vw; height:100vh; min-height:100vh}
    .term-body{ padding:18px; font-size:15px }
    .post-title{ font-size:1.3rem }
    .feature-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>
  <div class="screen" role="main">
    <div class="term">
      <div class="term-top">
        <div class="dot r"></div>
        <div class="dot y"></div>
        <div class="dot g"></div>
        <div class="title">him7n@omarchy ~/blog/gitsense</div>
      </div>

      <div class="term-body">
        <nav class="blog-nav">
          <a href="../index.html">â† cd ~</a>
          <a href="../blog.html">â† cd ../blog</a>
        </nav>

        <article>
          <header class="post-meta">
            <div class="post-date">2026-01-04 â€¢ 12 min read</div>
            <h1 class="post-title">Building GitSense: The AI-Powered Git + JIRA Workflow Tool</h1>
            <div class="post-tags">
              <span class="tag">bash</span>
              <span class="tag">ai</span>
              <span class="tag">git</span>
              <span class="tag">jira</span>
              <span class="tag">devtools</span>
              <span class="tag">cli</span>
            </div>
          </header>

          <div class="callout">
            <div class="callout-title">ğŸ“¦ Prerequisites</div>
            <p>
              <strong>cursor-agent</strong> â€” Required. Provides AI completions using Cursor's free model (grok-code-fast-1).<br>
              <strong>jira-cli</strong> â€” Optional. Only needed for JIRA integration features. <a href="https://github.com/ankitpokhrel/jira-cli" target="_blank">Install here</a>.
            </p>
          </div>

          <h2>The Problem</h2>
          
          <p>It's 2am. You've been debugging for hours. You finally fix it. You <code>git add .</code> and then... you stare at the terminal.</p>
          
          <p><em>"fix stuff"</em><br>
          <em>"it works now"</em><br>
          <em>"asdfghjkl"</em></p>
          
          <p>We've all been there. But here's the thing â€” bad commit messages are just the start. When you're working with JIRA, there's also PR titles, PR descriptions, and a bunch of JIRA fields to fill out.</p>
          
          <p>The git diff <strong>already contains everything needed</strong> to write all of them. So I built <strong>GitSense</strong>.</p>

          <h2>What GitSense Actually Does</h2>
          
          <p>GitSense is an interactive CLI tool that turns your git diff into everything you need â€” commit messages, PR descriptions, and all those tedious JIRA fields. It's a ~1000 line bash script that uses <strong>Cursor's free AI model</strong> (grok-code-fast-1) via cursor-agent.</p>

          <div class="demo-box">
            <div class="demo-title">The Main Interface</div>
            <div class="terminal-demo">
              <div class="term-header">
                <div class="dot r"></div>
                <div class="dot y"></div>
                <div class="dot g"></div>
              </div>
              <div class="term-content">
                <div class="line"><span class="cmd">$ gitsense</span></div>
                <div class="line"><span class="info">ğŸ“‹ JIRA Ticket detected: CDS-116548</span></div>
                <div class="line"><span class="info">ğŸ‘€ Analyzing changes with AI (grok-code-fast-1)...</span></div>
                <div class="line"><span class="separator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></div>
                <div class="line"><span class="menu-title">Select a commit message (â†‘/â†“ to move, Enter to select):</span></div>
                <div class="line"><span class="separator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></div>
                <div class="line option selected"><span class="arrow">â†’</span> <span class="type-feat">feat:</span> [CDS-116548]: add JWT authentication middleware</div>
                <div class="line option">&nbsp;&nbsp; <span class="type-feat">feat:</span> [CDS-116548]: implement token validation layer</div>
                <div class="line option">&nbsp;&nbsp; <span class="type-feat">feat:</span> [CDS-116548]: enable secure API authentication</div>
                <div class="line option">&nbsp;&nbsp; <span class="type-feat">feat:</span> [CDS-116548]: integrate auth guards to routes</div>
                <div class="line option">&nbsp;&nbsp; <span class="type-feat">feat:</span> [CDS-116548]: setup secure session management</div>
                <div class="line"><span class="separator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></div>
                <div class="line hotkeys">
                  <span class="key">Enter</span> Commit
                  <span class="key">e</span> Edit
                  <span class="key">c</span> Copy
                  <span class="key">d</span> Diff
                  <span class="key">r</span> Refine
                  <span class="key highlight">p</span> PR Desc
                  <span class="key highlight">f</span> JIRA
                  <span class="key">?</span> Help
                  <span class="key">q</span> Quit
                </div>
              </div>
            </div>
          </div>

          <h2>Core Features</h2>

          <h3>1. AI-Generated Commit Messages</h3>
          
          <p>GitSense analyzes your diff and generates <strong>5 variations of the same commit type</strong>. Not 5 random options â€” 5 different phrasings of what the AI determined is the correct type (feat, fix, chore, etc).</p>
          
          <div class="callout">
            <div class="callout-title">ğŸ’¡ Why same-type variations?</div>
            <p>When you see "feat:", "fix:", and "chore:" for the same change, you waste mental energy choosing. But 5 phrasings of the same feat? Easy pick. The AI already decided the type â€” you just pick the wording you like.</p>
          </div>

          <h3>2. Commit Style Learning</h3>
          
          <p>GitSense reads your last 5 commits and learns your style. Lowercase? Imperative mood? Short descriptions? It matches how <em>you</em> write, not generic conventional commits.</p>

          <div class="code-block">
<span class="comment"># GitSense sees your recent commits:</span>
fix: handle null pointer in auth
feat: add retry logic to api client  
chore: update dependencies

<span class="comment"># So it generates messages matching YOUR style</span>
</div>

          <h3>3. Smart Diff Detection</h3>
          
          <p>GitSense auto-detects what to analyze:</p>
          <ul>
            <li><strong>Staged changes</strong>: If you've run <code>git add</code>, it uses those</li>
            <li><strong>Auto-stage tracked</strong>: Modified tracked files get auto-staged</li>
            <li><strong>JIRA-only mode</strong>: No changes? If there's a JIRA ticket in your branch, you can still generate PR descriptions!</li>
          </ul>

          <h3>4. Vim-Style Navigation</h3>
          
          <p>Because I'm a vim user: <code>j/k</code> moves up/down, <code>1-5</code> directly selects and commits. Plus arrow keys for normies.</p>

          <h3>5. Edit in Neovim</h3>
          
          <p>Don't like any of the options? Press <code>e</code> to open the selected message in <strong>nvim</strong>. Edit it however you want, save and quit, and it commits with your edited message.</p>

          <h3>6. Ask AI to Refine</h3>
          
          <p>Press <code>r</code> to give feedback to the AI. Type something like <em>"this is a bugfix not a feature"</em> or <em>"make it shorter"</em> and GitSense regenerates all 5 options based on your feedback. Keep refining until it's perfect.</p>

          <h2>The JIRA Integration</h2>
          
          <p>This is where GitSense gets powerful. If your branch name contains a JIRA ticket (like <code>feature/CDS-116548-auth</code>), it unlocks a whole submenu.</p>

          <h3>Automatic Ticket Detection</h3>
          
          <div class="code-block">
<span class="comment"># Regex pattern: [A-Z]+-[0-9]+</span>
<span class="keyword">if</span> [[ <span class="string">"$branch"</span> =~ ([A-Z]+-[0-9]+) ]]; <span class="keyword">then</span>
    JIRA_TICKET=<span class="string">"${BASH_REMATCH[1]}"</span>
<span class="keyword">fi</span>

<span class="comment"># Works with:</span>
<span class="comment"># feature/CDS-116548-add-auth â†’ CDS-116548</span>
<span class="comment"># bugfix/PROJ-123 â†’ PROJ-123</span>
<span class="comment"># CDS-99999-hotfix â†’ CDS-99999</span>
</div>

          <h3>Press 'p' â€” PR Title & Description Generator</h3>
          
          <p>This doesn't just look at staged changes. It calculates the <strong>branch origin</strong> (where you diverged from main/master) and analyzes ALL commits on your branch:</p>

          <div class="code-block">
<span class="comment"># Find where branch diverged</span>
<span class="command">git merge-base main HEAD</span>

<span class="comment"># Get ALL commits since then</span>
<span class="command">git log $merge_base..HEAD</span>

<span class="comment"># Get the complete diff</span>
<span class="command">git diff $merge_base..HEAD</span>
</div>

          <p>Then it fetches the JIRA ticket info via <code>jira issue view</code>, and even checks for <strong>parent Epics</strong>. The output:</p>

          <div class="demo-box">
            <div class="demo-title">PR Description Output</div>
            <div class="md-output">
              <div class="pr-title">
                <span class="emoji">ğŸ·ï¸</span> <strong>PR Title:</strong> <span class="ticket">[CDS-116548]</span> Add JWT authentication middleware
              </div>
              
              <div class="section-header">WHAT</div>
              <p class="section-content">Add JWT-based authentication to all protected API endpoints</p>
              
              <div class="section-header">WHY</div>
              <p class="section-content">Enable secure user sessions as required by security audit. Part of Epic CDS-110000 work.</p>
              
              <div class="section-header">HOW</div>
              <ul class="bullet-list">
                <li>Implement JWT middleware with RS256 signing</li>
                <li>Add refresh token rotation with Redis storage</li>
                <li>Integrate auth guards into route handlers</li>
              </ul>
              
              <div class="section-header">TESTS</div>
              <div class="test-file">tests/auth/jwt.test.ts:</div>
              <ul class="test-list">
                <li>should validate JWT tokens correctly</li>
                <li>should reject expired tokens</li>
                <li>should handle refresh token rotation</li>
              </ul>
              <div class="test-file">tests/integration/auth-flow.test.ts:</div>
              <ul class="test-list">
                <li>should complete full auth flow</li>
              </ul>
            </div>
          </div>

          <div class="callout info">
            <div class="callout-title">ğŸ” Smart Test Extraction</div>
            <p>GitSense doesn't just list test files â€” it parses the diff to extract actual test names from <code>it()</code>, <code>test()</code>, and <code>describe()</code> blocks, grouped by file!</p>
          </div>

          <h3>Press 'f' â€” The JIRA Field Generator</h3>
          
          <p>This is the real time-saver. GitSense can generate text for <strong>7 different JIRA fields</strong>:</p>

          <div class="feature-grid">
            <div class="feature-card">
              <h4>1) Bug Resolution</h4>
              <p>Root cause analysis, what was fixed, how it prevents recurrence. Technical but clear.</p>
            </div>
            <div class="feature-card">
              <h4>2) CFD Escape Analysis</h4>
              <p>Why it escaped to customer, what process gap allowed it, what should catch it in future.</p>
            </div>
            <div class="feature-card">
              <h4>3) QA Notes</h4>
              <p>Test scenarios to verify, edge cases, regression areas, special setup needed.</p>
            </div>
            <div class="feature-card">
              <h4>4) Public Release Notes</h4>
              <p>Customer-facing summary. No jargon, just what changed and why it benefits users.</p>
            </div>
            <div class="feature-card">
              <h4>5) Feature Justification</h4>
              <p>Business value explanation. Why this is needed, what problem it solves, expected impact.</p>
            </div>
            <div class="feature-card">
              <h4>6) Documentation Update</h4>
              <p>What docs need updating, key changes to document, where users are affected.</p>
            </div>
            <div class="feature-card">
              <h4>7) Technical Summary</h4>
              <p>High-level approach, architectural decisions, technologies used. For future devs.</p>
            </div>
          </div>

          <p>Each one uses context from:</p>
          <ul>
            <li>The JIRA ticket itself (via <code>jira issue view</code>)</li>
            <li>Parent Epic info (if exists)</li>
            <li>The complete branch diff</li>
            <li>All commits since branch origin</li>
          </ul>

          <div class="demo-box">
            <div class="demo-title">Example: Bug Resolution Field</div>
            <div class="md-output">
              <div class="section-header" style="color: var(--red); border-bottom-color: var(--red);">Bug Resolution</div>
              <p class="section-content"><strong style="color: var(--accent);">Root cause:</strong> Race condition in token refresh logic caused expired tokens to be accepted during concurrent requests. The validation check wasn't atomic with the token update.</p>
              <p class="section-content"><strong style="color: var(--accent);">Fixed by:</strong> Implementing atomic token validation using Redis distributed lock (SETNX pattern). Refresh operations now acquire lock before validation.</p>
              <p class="section-content"><strong style="color: var(--accent);">Prevents recurrence:</strong> Adding integration tests for concurrent auth scenarios using Promise.all() to simulate parallel requests.</p>
            </div>
          </div>

          <h3>JIRA-Only Mode</h3>
          
          <p>No code changes but need to generate a PR description? If your branch has a JIRA ticket, GitSense enters JIRA-only mode:</p>

          <div class="terminal-demo">
              <div class="term-header">
                <div class="dot r"></div>
                <div class="dot y"></div>
                <div class="dot g"></div>
              </div>
              <div class="term-content">
                <div class="line"><span class="cmd">$ gitsense</span></div>
                <div class="line"><span class="info">âš ï¸  No changes to commit, but JIRA features available.</span></div>
                <div class="line"><span class="separator">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
                <div class="line" style="color: var(--accent); font-weight: 700;">ğŸ¯ JIRA Tools Menu - CDS-116548</div>
                <div class="line"><span class="separator">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
                <div class="line hotkeys" style="margin: 8px 0;">
                  <span class="key highlight">p</span> Generate PR Title & Description
                </div>
                <div class="line hotkeys" style="margin: 8px 0;">
                  <span class="key highlight">f</span> Generate JIRA Field Text
                </div>
                <div class="line hotkeys" style="margin: 8px 0;">
                  <span class="key">q</span> Quit
                </div>
                <div class="line"><span class="separator">â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</span></div>
              </div>
            </div>

          <h2>The Technical Details</h2>

          <h3>Branch Origin Detection</h3>
          
          <p>For PR descriptions, you want ALL changes on the branch, not just staged files. GitSense finds the merge-base:</p>

          <div class="code-block">
<span class="keyword">get_branch_origin</span>() {
    <span class="comment"># Try main or master</span>
    <span class="keyword">if</span> git rev-parse --verify main >/dev/null 2>&1; <span class="keyword">then</span>
        base_branch=<span class="string">"main"</span>
    <span class="keyword">elif</span> git rev-parse --verify master >/dev/null 2>&1; <span class="keyword">then</span>
        base_branch=<span class="string">"master"</span>
    <span class="keyword">else</span>
        <span class="keyword">echo</span> <span class="string">"HEAD~1"</span>
        <span class="keyword">return</span>
    <span class="keyword">fi</span>
    
    <span class="comment"># Find where branch diverged</span>
    git merge-base <span class="string">"$base_branch"</span> HEAD
}
</div>

          <h3>Parent Epic Detection</h3>
          
          <p>GitSense fetches raw JSON from JIRA and extracts the parent Epic key, then includes that context in prompts:</p>

          <div class="code-block">
<span class="comment"># Get raw JSON from JIRA</span>
raw_json=$(jira issue view <span class="string">"$ticket_id"</span> --raw)

<span class="comment"># Extract parent key from nested JSON</span>
parent_key=$(echo <span class="string">"$raw_json"</span> | grep -o '<span class="string">"parent":\s*{[^}]*"key":"[^"]*"</span>' | \
             grep -o '<span class="string">"key":"[^"]*"</span>' | cut -d'"' -f4 | head -1)

<span class="comment"># If found, fetch Epic details too</span>
<span class="keyword">if</span> [[ -n <span class="string">"$parent_key"</span> ]]; <span class="keyword">then</span>
    parent_info=$(jira issue view <span class="string">"$parent_key"</span>)
<span class="keyword">fi</span>
</div>

          <h3>Interactive TUI in Pure Bash</h3>
          
          <p>The menu redraws without flicker using tput cursor manipulation:</p>

          <div class="code-block">
<span class="comment"># Calculate menu height</span>
menu_height=$((3 + 3 + ${#current_options[@]}))

<span class="comment"># Move cursor up and clear</span>
tput cuu <span class="string">"$menu_height"</span>  <span class="comment"># Move UP</span>
tput ed                  <span class="comment"># Clear to end</span>

<span class="comment"># Handle arrow keys (escape sequences)</span>
<span class="keyword">if</span> [[ <span class="string">"$key"</span> == $<span class="string">'\x1b'</span> ]]; <span class="keyword">then</span>
    read -rsn2 k2
    <span class="keyword">if</span> [[ <span class="string">"$k2"</span> == <span class="string">"[A"</span> ]]; <span class="keyword">then</span>  <span class="comment"># Up arrow</span>
        ((selected_index--))
    <span class="keyword">fi</span>
<span class="keyword">fi</span>
</div>

          <h2>Why Bash?</h2>
          
          <p>I could have used Python, Go, or Rust. But there's something beautiful about a tool that runs anywhere with bash:</p>
          
          <ul>
            <li>SSH into a server? GitSense works.</li>
            <li>Docker container? GitSense works.</li>
            <li>Ancient CentOS box? GitSense... probably works.</li>
            <li>No npm install, no pip install, no build step.</li>
          </ul>
          
          <p>Just <code>chmod +x gitsense</code> and you're done. The only dependency is <code>cursor-agent</code> for AI completions (and optionally <code>jira-cli</code> for JIRA features).</p>

          <h2>Try It</h2>
          
          <div class="code-block">
<span class="comment"># Clone and setup</span>
<span class="command">chmod +x gitsense</span>
<span class="command">sudo ln -s $(pwd)/gitsense /usr/local/bin/gitsense</span>

<span class="comment"># Use it</span>
<span class="command">cd your-project</span>
<span class="command">gitsense</span>
</div>

          <p>If you spend time in git and hate filling out JIRA fields, give it a shot. Your future self (and your PM reading those ticket updates) will thank you.</p>
          
          <div class="callout">
            <div class="callout-title">ğŸ”— Links</div>
            <p>
              <a href="https://github.com/him7n" target="_blank">GitHub: him7n</a> â€” Check out my repos for GitSense and other tools.
            </p>
          </div>

          <footer class="post-footer">
            <div class="footer-actions">
              <a href="../blog.html" class="back-link">â† cd ..</a>
              <button class="like-btn" id="like-btn" onclick="toggleLike()">
                <span class="heart">â™¥</span>
                <span class="count" id="like-count">0</span>
              </button>
            </div>
            
            <div class="prompt-line">
              <span class="prompt">him7n@omarchy</span>
              <span class="cwd">~/blog</span>
              <span class="dollar">$</span>
              <span class="blink">â–ˆ</span>
            </div>
          </footer>
        </article>
      </div>
    </div>

    <div class="scanlines"></div>
  </div>

<script>
// Copy button for code blocks
document.querySelectorAll('.code-block').forEach(block => {
  // Wrap in container if not already
  if (!block.parentElement.classList.contains('code-block-wrapper')) {
    const wrapper = document.createElement('div');
    wrapper.className = 'code-block-wrapper';
    block.parentNode.insertBefore(wrapper, block);
    wrapper.appendChild(block);
  }
  
  const btn = document.createElement('button');
  btn.className = 'copy-btn';
  btn.textContent = 'copy';
  btn.onclick = () => {
    const text = block.textContent;
    navigator.clipboard.writeText(text).then(() => {
      btn.textContent = 'copied!';
      btn.classList.add('copied');
      setTimeout(() => {
        btn.textContent = 'copy';
        btn.classList.remove('copied');
      }, 2000);
    });
  };
  block.parentElement.appendChild(btn);
});

// Like button with localStorage
function toggleLike() {
  const btn = document.getElementById('like-btn');
  const countEl = document.getElementById('like-count');
  const postId = 'gitsense';
  const storageKey = `liked_${postId}`;
  const countKey = `likes_${postId}`;
  
  const isLiked = localStorage.getItem(storageKey) === 'true';
  let count = parseInt(localStorage.getItem(countKey) || '0');
  
  if (isLiked) {
    count = Math.max(0, count - 1);
    localStorage.setItem(storageKey, 'false');
    btn.classList.remove('liked');
  } else {
    count++;
    localStorage.setItem(storageKey, 'true');
    btn.classList.add('liked');
  }
  
  localStorage.setItem(countKey, count.toString());
  countEl.textContent = count;
}

// Load initial like state
(function() {
  const postId = 'gitsense';
  const isLiked = localStorage.getItem(`liked_${postId}`) === 'true';
  const count = localStorage.getItem(`likes_${postId}`) || '0';
  
  document.getElementById('like-count').textContent = count;
  if (isLiked) {
    document.getElementById('like-btn').classList.add('liked');
  }
})();
</script>
</body>
</html>
